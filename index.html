<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <input type="email" id="email" name="email" autocomplete="off" autocorrect="off"/>
    <script>
        /// Вызывает отображение нативного компонента alert с переданным текстом сообщения message (при отображении добавится префикс "MLK-IOS-App:")
        function setWidgetConfig(message) {
            window.webkit.messageHandlers.setWidgetConfig.postMessage(JSON.stringify(message))
        }
        /// Отдаёт строку 'Value from MLK-IOS-App' из натива в веб без задержек
        function testGetValue() {
            window.webkit.messageHandlers.testGetValue.postMessage(null)
        }
        /// Отдаёт строку 'Value from MLK-IOS-App' из натива в веб с задержкой
        function testLoadData() {
            window.webkit.messageHandlers.testLoadData.postMessage('testSetValue')
        }
        /// Вывод на страничку
        function testSetValue(text) {
            document.body.innerHTML += '<div>' + text + '</div>';
        }

        function openContacts() {
            window.webkit.messageHandlers.openContacts
        }

        function openAppSettings() {
            window.webkit.messageHandlers.openAppSettings.postMessage(null)
        }

        function openLink(message) {
            window.webkit.messageHandlers.openLink.postMessage(JSON.stringify(message))
        }

        function getColorTheme(message) {
            window.webkit.messageHandlers.getColorTheme.postMessage('getColorThemeCallback')
        }

        function setColorTheme() {
            window.webkit.messageHandlers.setColorTheme.postMessage('DARK')
        }
    </script>
</head>

<body>
   <input type="button" value="setWidgetConfig" onclick="setWidgetConfig( {
            settings: {
                voice: {
                    discountId:'1020793', 
                    optionId: 'unf'
                }
            },
            callback: 'testy test'
        })">
    <input type="button" value="testGetValue" onclick="testGetValue()">
    <input type="button" value="testLoadData" onclick="testLoadData()">

    <input type="button" value="openContacts" onclick="openContacts()">
    <input type="button" value="openAppSettings" onclick="openAppSettings()">
    <input type="button" value="openLink" onclick="openLink({ link: 'https://support.apple.com/ru-ru' })">
    <input type="button" value="getColorTheme" onclick="getColorTheme({ systemColor: 'DARK', userThemeChoice: 'DARK' })">
    <input type="button" value="setColorTheme" onclick="setColorTheme()">
</body>
 
</html>
